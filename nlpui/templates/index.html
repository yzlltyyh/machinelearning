<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能情感分析系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="main-container">
        <!-- 头部区域 -->
        <header class="text-center header-section">
            <h1 class="main-title">智能情感分析</h1>
            <p class="subtitle">探索文字背后的情感世界</p>
        </header>

        <div class="content-section">
            <!-- 主要内容区域 -->
            <div class="input-section">
                <!-- 语音输入控制区 -->
                <div class="voice-controls">
                    <div class="control-buttons">
                        <button id="startVoice" class="btn btn-voice">
                            <i class="fas fa-microphone"></i>
                            <span>开始语音输入</span>
                        </button>
                        <button id="stopVoice" class="btn btn-voice" disabled>
                            <i class="fas fa-stop-circle"></i>
                            <span>停止语音输入</span>
                        </button>
                    </div>
                    <div class="voice-status">
                        <span class="status-badge">等待输入</span>
                    </div>
                </div>

                <!-- 文本输入区域 -->
                <div class="text-input-wrapper">
                    <textarea id="inputText" 
                            class="text-input"
                            placeholder="请输入或说出要分析的文本..."></textarea>
                </div>

                <!-- 操作按钮区 -->
                <div class="action-buttons">
                    <button id="analyzeBtn" class="btn btn-analyze">
                        <i class="fas fa-search"></i>
                        <span>分析情感</span>
                    </button>
                    <button id="generateTTS" class="btn btn-tts">
                        <i class="fas fa-volume-up"></i>
                        <span>生成语音</span>
                    </button>
                </div>
            </div>

            <!-- 加载指示器 -->
            <div id="loadingIndicator" class="loading-section d-none">
                <div class="loading-spinner"></div>
                <p class="loading-text">正在分析，请稍候...</p>
            </div>

            <!-- 结果显示区域 -->
            <div id="results" class="results-section"></div>

            <!-- 音频播放区域 -->
            <div class="audio-section" style="display: none;">
                <div class="audio-wrapper">
                    <div class="audio-header">
                        <i class="fas fa-headphones"></i>
                        <span>语音播放</span>
                    </div>
                    <audio id="ttsAudio" controls>
                        <source src="" type="audio/wav">
                        您的浏览器不支持音频播放
                    </audio>
                </div>
            </div>
        </div>
    </div>

    <!-- 结果模板 -->
    <template id="resultTemplate">
        <div class="result-wrapper">
            <div class="result-header">
                <h3>分析结果</h3>
            </div>
            <div class="result-content">
                <div class="sentiment-section">
                    <div class="sentiment-item">
                        <span class="label">情感类别</span>
                        <span class="value sentiment-badge"></span>
                    </div>
                    <div class="sentiment-item">
                        <span class="label">置信度</span>
                        <span class="value confidence-badge"></span>
                    </div>
                </div>
                <div class="probability-section">
                    <h4>情感概率分布</h4>
                    <div class="probability-bars"></div>
                </div>
            </div>
        </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html> 